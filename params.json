{"name":"Install your Postgres virtual machine","tagline":"Vagrant and ansible recipe to create a virtual machine on virtual box that hosts postgresql database","body":"This repository contains scripts to create a virtual machine that exposes databases we use\r\nduring classes:\r\n\r\n* sportsdb\r\n* pizza_shop\r\n* transtats (you have to continue the installation with [Flywaydb-Transtats](https://github.com/Esme-Sudria-Database/Flywaydb-Transtats))\r\n* bio_icare_drone\r\n* bloon_project\r\n\r\n![pgadmin3](https://cloud.githubusercontent.com/assets/159559/10293161/9bb4f68c-6ba2-11e5-8759-8c9caa0e20d3.png)\r\n\r\nSetup your computer\r\n====================\r\n\r\nYou will need those softwares on your computer :\r\n\r\n* [Virtual box](https://www.virtualbox.org/)\r\n* [Vagrant](https://www.vagrantup.com/)\r\n* [Git](https://git-scm.com/)\r\n\r\nOn linux\r\n---------\r\n\r\n    sudo apt-get install virtualbox\r\n    sudo apt-get install vagrant\r\n    sudo apt-get install git\r\n\r\nOn windows\r\n-----------\r\n\r\nDownload and install the 3 softwares above.\r\n\r\nInstall the box\r\n================\r\n\r\nClone this repository :\r\n\r\n    git clone https://github.com/Esme-Sudria-Database/Vagrant-Postgresql.git\r\n\r\nTo create the virtual machine, use the command\r\n\r\n    cd Vagrant-Postgresql\r\n    vagrant up\r\n\r\nThis script will use image from ubuntu 14.04. Ansible will install Postgresql from apt repository and other dependencies, then it will configure it to open network access (don't do that in production).\r\n\r\nNext it wil create a database, and import sportsdb sample.\r\n\r\nDatabase usage\r\n================\r\n\r\nUse web admin adminer\r\n------------------------\r\n\r\n[Adminer](https://www.adminer.org/) is a generic client for different databases written in PHP.\r\nYou can use it from a browser :\r\n\r\n* http://192.168.33.10/adminer\r\n\r\nHere is the logging information to use :\r\n\r\n* System : PostgreSQL\r\n* Serveur : localhost\r\n* Utilisateur : user\r\n* Mot de passe : user\r\n\r\nUse pgadmin3\r\n--------------\r\n\r\nYou can use pgadmin3 against this virtual machine. When you create a profile, set the host to 192.168.33.10:5432\r\n\r\nYou can use either the account admin:admin or user:user as login:password.\r\n\r\n![server7](https://cloud.githubusercontent.com/assets/159559/10293207/d3642ec2-6ba2-11e5-8c4f-8a39e3f1c7f3.png)\r\n\r\nadmin is a power user on postgresql database (never do that in production !).\r\n\r\nUse command line and psql\r\n--------------------------\r\n\r\n    ssh user@192.168.33.10\r\n\r\nYou should access to the vm. Use the following command to manipulate database\r\n\r\n    psql sportsdb\r\n\r\nConnect to virtualbox as administrator\r\n=======================================\r\n\r\n    vagrant ssh\r\n\r\nCheck ansible playbook\r\n=======================\r\n\r\n    make tests\r\n\r\nIf it doesn't work due to missing ansible-galaxy roles, use :\r\n\r\n    bash scripts/bootstrap-tests.sh\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}